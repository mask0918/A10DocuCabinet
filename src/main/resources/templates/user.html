<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A fully featured admin theme which can be used to build CRM, CMS, etc.">
<meta name="author" content="www.divmb.com">

<link rel="shortcut icon" href="assets/images/favicon_1.ico">

<title>洞见 · RBAC管理</title>

<link href="assets/plugins/bootstrap-table/dist/bootstrap-table.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/plugins/custombox/dist/custombox.min.css" rel="stylesheet">
<link href="assets/plugins/sweetalert/dist/sweetalert.css" rel="stylesheet" type="text/css">

<link href="assets/plugins/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet"/>
<link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="assets/css/core.css" rel="stylesheet" type="text/css"/>
<link href="assets/css/components.css" rel="stylesheet" type="text/css"/>
<link href="assets/css/icons.css" rel="stylesheet" type="text/css"/>
<link href="assets/css/pages.css" rel="stylesheet" type="text/css"/>
<link href="assets/css/responsive.css" rel="stylesheet" type="text/css"/>

<!-- HTML5 Shiv and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->

<script src="assets/js/modernizr.min.js"></script>

</head>

<body class="fixed-left">

<!-- Begin page -->
<div id="wrapper">

    <!-- Top Bar Start -->
    <div class="topbar">

        <!-- LOGO -->
        <div class="topbar-left">
            <div class="text-center">
                <a href="index.html" class="logo"><img src="assets/images/logo_w.png" style="width: 50%;margin: 10px;"></a>
            </div>
        </div>

        <!-- Button mobile view to collapse sidebar menu -->
        <div class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="">
                    <div class="pull-left">
                        <button class="button-menu-mobile open-left">
                            <i class="ion-navicon"></i>
                        </button>
                        <span class="clearfix"></span>
                    </div>

                    <form role="search" class="navbar-left app-search pull-left hidden-xs">
                        <input type="text" placeholder="Search..." class="form-control">
                        <a href=""><i class="fa fa-search"></i></a>
                    </form>


                    <ul class="nav navbar-nav navbar-right pull-right">
                        <li class="dropdown hidden-xs">
                            <a href="#" data-target="#" class="dropdown-toggle waves-effect waves-light"
                               data-toggle="dropdown"
                               aria-expanded="true">
                                <i class="icon-bell"></i> <span class="badge badge-xs badge-danger">3</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-lg">
                                <li class="notifi-title"><span class="label label-default pull-right">New 3</span>Notification
                                </li>
                                <li class="list-group nicescroll notification-list">
                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left p-r-10">
                                                <em class="fa fa-diamond fa-2x text-primary"></em>
                                            </div>
                                            <div class="media-body">
                                                <h5 class="media-heading">A new order has been placed A new order has
                                                    been placed</h5>
                                                <p class="m-0">
                                                    <small>There are new settings available</small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>

                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left p-r-10">
                                                <em class="fa fa-cog fa-2x text-custom"></em>
                                            </div>
                                            <div class="media-body">
                                                <h5 class="media-heading">New settings</h5>
                                                <p class="m-0">
                                                    <small>There are new settings available</small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>

                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left p-r-10">
                                                <em class="fa fa-bell-o fa-2x text-danger"></em>
                                            </div>
                                            <div class="media-body">
                                                <h5 class="media-heading">Updates</h5>
                                                <p class="m-0">
                                                    <small>There are <span class="text-primary font-600">2</span> new
                                                        updates available
                                                    </small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>

                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left p-r-10">
                                                <em class="fa fa-user-plus fa-2x text-info"></em>
                                            </div>
                                            <div class="media-body">
                                                <h5 class="media-heading">New user registered</h5>
                                                <p class="m-0">
                                                    <small>You have 10 unread messages</small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>

                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left p-r-10">
                                                <em class="fa fa-diamond fa-2x text-primary"></em>
                                            </div>
                                            <div class="media-body">
                                                <h5 class="media-heading">A new order has been placed A new order has
                                                    been placed</h5>
                                                <p class="m-0">
                                                    <small>There are new settings available</small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>

                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left p-r-10">
                                                <em class="fa fa-cog fa-2x text-custom"></em>
                                            </div>
                                            <div class="media-body">
                                                <h5 class="media-heading">New settings</h5>
                                                <p class="m-0">
                                                    <small>There are new settings available</small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:void(0);" class="list-group-item text-right">
                                        <small class="font-600">See all notifications</small>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="hidden-xs">
                            <a href="#" id="btn-fullscreen" class="waves-effect waves-light"><i
                                    class="icon-size-fullscreen"></i></a>
                        </li>
                        <li class="hidden-xs">
                            <a href="#" class="right-bar-toggle waves-effect waves-light"><i class="icon-settings"></i></a>
                        </li>
                        <li class="dropdown">
                            <a href="" class="dropdown-toggle profile" data-toggle="dropdown" aria-expanded="true"><img
                                    src="assets/images/users/avatar-1.jpg"
                                    alt="user-img" class="img-circle"> </a>
                            <ul class="dropdown-menu">
                                <li><a href="javascript:void(0)"><i class="ti-user m-r-5"></i> Profile</a></li>
                                <li><a href="javascript:void(0)"><i class="ti-settings m-r-5"></i> Settings</a></li>
                                <li><a href="javascript:void(0)"><i class="ti-lock m-r-5"></i> Lock screen</a></li>
                                <li><a href="javascript:void(0)"><i class="ti-power-off m-r-5"></i> Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
        </div>
    </div>
    <!-- Top Bar End -->


    <!-- ========== Left Sidebar Start ========== -->

    <div class="left side-menu">
        <div class="sidebar-inner slimscrollleft">
            <!--- Divider -->
            <div id="sidebar-menu">
                <ul>
                    <li class="text-muted menu-title">Welcome!</li>
                    <li><a href="login" class="waves-effect"><i class="ti-home"></i>
                        <span> 首页 </span>
                    </a>
                    </li>
                    <li class="has_sub"><a href="#" class="waves-effect  active"><i class=" ti-list"></i>
                        <span> RBAC管理 </span> <img src="assets/images/下拉.png" width="16px"
                                                   style="position:absolute;right:25px;padding-top:3px;"></a>
                        <ul class="list-unstyled">
                            <li><a href="permissionmanage"><i class=" ti-lock"></i>权限管理</a></li>
                            <li><a href="rolemanage"><i class="  ti-target"></i>角色管理</a></li>
                            <li><a href="usermanage"><i class=" ti-user"></i>用户管理</a></li>
                        </ul>
                    </li>
                    <li class="has_sub"><a href="#" class="waves-effect"><i class=" ti-files"></i><span>
										文档管理 </span> <img src="assets/images/下拉.png" width="16px"
                                                          style="position:absolute;right:25px;padding-top:3px;"></a>
                        <ul class="list-unstyled">
                            <li><a href="documanage"><i class=" ti-file"></i>文档信息</a></li>
                            <li><a href="oplog"><i class=" ti-book"></i>操作记录</a></li>
                        </ul>
                    </li>
                    <li><a href="contactmanage" class="waves-effect"><i class="ti-email"></i><span> 邮箱管理
									</span></a>
                    </li>
                    <li><a href="taboo" class="waves-effect"><i class=" ti-panel"></i><span> 敏感词管理 </span></a>
                    </li>
                    <li><a href="feedback" class="waves-effect"><i class=" ti-pencil-alt"></i><span> 意见反馈 </span></a>
                    </li>
                    <li class="has_sub"><a href="#" class="waves-effect"><i class="ti-settings"></i><span>
										系统运维 </span><img src="assets/images/下拉.png" width="16px"
                                                         style="position:absolute;right:25px;padding-top:3px;"></i></a>
                        <ul class="list-unstyled">
                            <li><a href="systemlog"><i class=" ti-clipboard"></i>系统日志</a></li>
                            <li><a href="#"><i class=" ti-server"></i>系统维护</a></li>
                        </ul>
                    </li>

                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <!-- Left Sidebar End -->

    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="content-page">
        <!-- Start content -->
        <div class="content">
            <div class="container">

                <!-- Page-Title -->
                <!--<div class="row">-->
                <!--<div class="col-sm-12">-->
                <!--<h4 class="page-title">Bootstrap Tables</h4>-->
                <!--<ol class="breadcrumb">-->
                <!--<li>-->
                <!--<a href="#">Ubold</a>-->
                <!--</li>-->
                <!--<li>-->
                <!--<a href="#">Tables</a>-->
                <!--</li>-->
                <!--<li class="active">-->
                <!--Bootstrap Tables-->
                <!--</li>-->
                <!--</ol>-->
                <!--</div>-->
                <!--</div>-->

                <!--Basic Toolbar-->
                <!--===================================================-->
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card-box">
                            <h4 class="m-t-0 header-title"><b>用户管理</b></h4>
                            <p class="text-muted font-13">
                                Perform user additions, deletions, and changes, and assign roles.
                            </p>

                            <div class="col-sm-4" style="margin-top: 10px;padding-left: 0px;">
                                <a href="#custom-modal" class="btn btn-default btn-md waves-effect waves-light m-b-30"
                                   data-animation="fadein"
                                   data-plugin="custommodal" data-overlaySpeed="200" data-overlayColor="#36404a"><i
                                        class="md md-add"></i> 新增 </a>
                            </div>

                            <table id="user_table" data-toggle="table" data-search="true" data-show-refresh="true"
                                   data-show-toggle="true"
                                   data-show-columns="true" data-sort-name="id" data-page-list="[10, 20, 30]"
                                   data-page-size="10" data-pagination="true"
                                   data-show-pagination-switch="true" class="table-bordered ">
                                <thead>
                                <tr>
                                    <th data-field="id" data-valign="middle" data-sortable="true" data-width="5%">
                                        ID
                                    </th>
                                    <th data-field="name" data-valign="middle" data-sortable="true" data-width="10%">
                                        用户名
                                    </th>
                                    <th data-field="smtp" data-valign="middle" data-sortable="true" data-width="15%">
                                        SMTP
                                    </th>
                                    <th data-field="pop3" data-valign="middle" data-sortable="true" data-width="15%">
                                        POP3
                                    </th>
                                    <th data-field="acc" data-valign="middle" data-sortable="true" data-width="15%">
                                        邮箱名
                                    </th>
                                    <th data-field="pwd" data-valign="middle" data-sortable="true" data-width="15%">
                                        授权码
                                    </th>
                                    <th data-field="role" data-valign="middle" data-sortable="true" data-width="10%">
                                        角色
                                    </th>

                                    <th data-field="options" data-width="15%">***</th>

                                </tr>
                                </thead>

                                <tbody>
                                <tr th:each="user:${usersList}">
                                    <td th:text="${user.id}"></td>
                                    <td th:text="${user.username}"></td>
                                    <td th:text="${user.smtp}"></td>
                                    <td th:text="${user.pop3}"></td>
                                    <td th:text="${user.mailAcc}"></td>
                                    <td th:text="${user.mailPwd}"></td>
                                    <td th:utext="${roles.get(user.roleId)!=null?roles.get(user.roleId):'<strong>未定义</strong>'}"
                                        th:class="${user.roleId}"></td>
                                    <td>
                                        <button onclick="modify(this)"
                                                type="button"
                                                class="btn btn-rounded waves-effect waves-light"
                                                style="background-color: #73cab8; color: #FFFFFF"> 修改
                                        </button>
                                        <button type="button"
                                                class="btn btn-rounded waves-effect waves-light mydel"
                                                style="background-color: #6eadec; color: #FFFFFF"
                                        > 删除
                                        </button>
                                    </td>
                                </tr>
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>


            </div> <!-- content -->

            <footer class="footer">
                洞见个人文档智能管理系统 &copy; 2019/05
            </footer>

        </div>

        <!-- Modal -->
        <div id="custom-modal" class="modal-demo">
            <button type="button" class="close" onclick="Custombox.close();">
                <span>&times;</span><span class="sr-only">Close</span>
            </button>
            <h4 class="custom-modal-title">新增用户</h4>
            <div class="custom-modal-text text-left">
                <form id="addForm">
                    <div class="form-group">
                        <label>修改名</label>
                        <input type="text" class="form-control" id="user_name" placeholder="请输入权限名">
                    </div>
                    <div class="form-group">
                        <label>SMTP</label>
                        <input type="text" class="form-control" id="user_smtp" placeholder="请输入权限Url">
                    </div>
                    <div class="form-group">
                        <label>POP3</label>
                        <input type="text" class="form-control" id="user_pop3" placeholder="请输入权限Url">
                    </div>
                    <div class="form-group">
                        <label>邮箱名</label>
                        <input type="text" class="form-control" id="user_acc" placeholder="请输入权限Url">
                    </div>
                    <div class="form-group">
                        <label>授权码</label>
                        <input type="text" class="form-control" id="user_pwd" placeholder="请输入权限Url">
                    </div>
                    <div class="form-group">
                        <label>角色</label>
                        <select class="selectpicker show-tick roleadd" data-style="btn-white">
                            <option th:each="role:${rolesList}" th:value="${role.getId()}"
                                    th:text="${role.getName()}"></option>
                        </select>
                    </div>
                    <button type="button" class="btn btn-default waves-effect waves-light" onclick="addUser()">
                        确认
                    </button>
                    <button type="button" class="btn btn-danger waves-effect waves-light m-l-10"
                            onclick="Custombox.close()">取消
                    </button>
                </form>
            </div>
        </div>


        <!-- Modify -->
        <div id="custom-modify" class="modal-demo">
            <button type="button" class="close" onclick="Custombox.close();">
                <span>&times;</span><span class="sr-only">Close</span>
            </button>
            <h4 class="custom-modal-title" style="background-color: #5fbeaa">修改用戶</h4>
            <div class="custom-modal-text text-left">
                <form id="modifyForm">
                    <div class="form-group">
                        <label>修改名</label>
                        <input type="text" class="form-control" id="modify_name" placeholder="请输入权限名">
                    </div>
                    <div class="form-group">
                        <label>SMTP</label>
                        <input type="text" class="form-control" id="modify_smtp" placeholder="请输入权限Url">
                    </div>
                    <div class="form-group">
                        <label>POP3</label>
                        <input type="text" class="form-control" id="modify_pop3" placeholder="请输入权限Url">
                    </div>
                    <div class="form-group">
                        <label>邮箱名</label>
                        <input type="text" class="form-control" id="modify_acc" placeholder="请输入权限Url">
                    </div>
                    <div class="form-group">
                        <label>授权码</label>
                        <input type="text" class="form-control" id="modify_pwd" placeholder="请输入权限Url">
                    </div>
                    <div class="form-group">
                        <label>角色</label>
                        <select class="selectpicker show-tick roleop" data-style="btn-white">
                            <option th:each="role:${rolesList}" th:value="${role.getId()}"
                                    th:text="${role.getName()}"></option>
                        </select>
                    </div>

                    <button type="button" class="btn btn-default waves-effect waves-light "
                            onclick="modifyUser(this)">
                        确认
                    </button>
                    <button type="button" class="btn btn-danger waves-effect waves-light m-l-10"
                            onclick="Custombox.close()">取消
                    </button>
                </form>
            </div>
        </div>

        <!-- ============================================================== -->
        <!-- End Right content here -->
        <!-- ============================================================== -->


        <!-- Right Sidebar -->
        <div class="side-bar right-bar nicescroll">
            <h4 class="text-center">Chat</h4>
            <div class="contact-list nicescroll">
                <ul class="list-group contacts-list">
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-1.jpg" alt="">
                            </div>
                            <span class="name">Chadengle</span>
                            <i class="fa fa-circle online"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-2.jpg" alt="">
                            </div>
                            <span class="name">Tomaslau</span>
                            <i class="fa fa-circle online"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-3.jpg" alt="">
                            </div>
                            <span class="name">Stillnotdavid</span>
                            <i class="fa fa-circle online"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-4.jpg" alt="">
                            </div>
                            <span class="name">Kurafire</span>
                            <i class="fa fa-circle online"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-5.jpg" alt="">
                            </div>
                            <span class="name">Shahedk</span>
                            <i class="fa fa-circle away"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-6.jpg" alt="">
                            </div>
                            <span class="name">Adhamdannaway</span>
                            <i class="fa fa-circle away"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-7.jpg" alt="">
                            </div>
                            <span class="name">Ok</span>
                            <i class="fa fa-circle away"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-8.jpg" alt="">
                            </div>
                            <span class="name">Arashasghari</span>
                            <i class="fa fa-circle offline"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-9.jpg" alt="">
                            </div>
                            <span class="name">Joshaustin</span>
                            <i class="fa fa-circle offline"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                    <li class="list-group-item">
                        <a href="#">
                            <div class="avatar">
                                <img src="assets/images/users/avatar-10.jpg" alt="">
                            </div>
                            <span class="name">Sortino</span>
                            <i class="fa fa-circle offline"></i>
                        </a>
                        <span class="clearfix"></span>
                    </li>
                </ul>
            </div>
        </div>
        <!-- /Right-bar -->


    </div>
    <!-- END wrapper -->

    <script>
        var resizefunc = [];
    </script>

    <!-- jQuery  -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/detect.js"></script>
    <script src="assets/js/fastclick.js"></script>
    <script src="assets/js/jquery.slimscroll.js"></script>

    <script src="assets/js/jquery.blockUI.js"></script>
    <script src="assets/js/waves.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/jquery.nicescroll.js"></script>
    <script src="assets/js/jquery.scrollTo.min.js"></script>

    <script src="assets/plugins/bootstrap-select/dist/js/bootstrap-select.min.js" type="text/javascript"></script>


    <script src="assets/js/jquery.core.js"></script>
    <script src="assets/js/jquery.app.js"></script>

    <script src="assets/plugins/bootstrap-table/dist/bootstrap-table.min.js"></script>

    <script src="assets/pages/jquery.bs-table.js"></script>

    <!-- Modal-Effect -->
    <script src="assets/plugins/custombox/src/js/custombox.js"></script>
    <script src="assets/plugins/custombox/dist/legacy.min.js"></script>

    <!-- Sweet-Alert  -->
    <script src="assets/plugins/sweetalert/dist/sweetalert.min.js"></script>
    <script src="assets/pages/jquery.sweet-alert.init.js"></script>

    <!-- Own JS -->
    <script src="assets/customjs/alert.js"></script>
    <script src="assets/customjs/user.js"></script>

    <script>
        document.write('<script src="//' + (location.host || 'localhost').split(':')[0] +
            ':35929/livereload.js?snipver=1"></' + 'script>')
    </script>
    <script>
        document.addEventListener('LiveReloadDisconnect', function () {
            setTimeout(function () {
                window.location.reload();
            }, 500);
        })
    </script>
</div>
</body>
</html>
